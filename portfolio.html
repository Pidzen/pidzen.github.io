<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Pierre Mordin, Sculpteur SF Fantastique & Pop Culture</title>
<meta name="description" content="Pierre Mordin, sculpteur spécialisé en univers SF, fantastique et pop culture. Créations sur demande pour professionnels et particuliers.">

<style>
:root{--bg:#0f0f10;--card:#161617;--muted:#9aa0a6;--accent:#b6a19b}
*{box-sizing:border-box}
body{margin:0;font-family:Inter,system-ui,Segoe UI,Arial;color:#eee;background:var(--bg);line-height:1.4;scroll-behavior:smooth}

header{display:flex;justify-content:space-between;align-items:center;padding:20px 36px;border-bottom:1px solid #222}
header .logo{font-weight:700;font-size:20px}
header nav a{color:#eee;text-decoration:none;margin-left:18px;font-weight:500}

.wrap{max-width:1200px;margin:0 auto;padding:28px 20px}
h1{font-size:28px;text-align:center;margin-bottom:6px}
p.lead{color:var(--muted);text-align:center;margin-top:0;margin-bottom:24px}

.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;padding-bottom:60px}
.card{background:linear-gradient(180deg,rgba(255,255,255,.02),transparent);padding:14px;border-radius:10px;display:flex;flex-direction:column;align-items:center;opacity:0;transform:translateY(20px);transition:all 0.6s ease-out;}
.card.visible{opacity:1;transform:translateY(0);}
.slideshow{width:220px;height:220px;border-radius:8px;background:#0c0c0c;overflow:hidden;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer;transition:transform .25s ease}
.slideshow img{max-width:100%;max-height:100%;object-fit:contain;display:block;pointer-events:none;user-drag:none;transition:opacity .6s ease-in-out, transform 0.4s ease;}
.card:hover .slideshow{transform:scale(1.02);}
.slideshow:hover img{transform:scale(1.05);}
.caption{padding-top:10px;color:var(--muted);text-align:center;font-size:14px}

/* lightbox avancé */
#lightbox{
  position:fixed; inset:0; background:rgba(0,0,0,0.88); display:none; align-items:center; justify-content:center; z-index:9999;
  opacity:0; transition:opacity 0.4s ease;
}
#lightbox.show{display:flex; opacity:1;}
#lightbox .inner{position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center}
#lightbox img{
  max-width:90%; max-height:90%; border-radius:8px;
  box-shadow:0 10px 40px rgba(0,0,0,0.8), 0 0 30px rgba(255,255,255,0.05);
  object-fit:contain; opacity:0; transition:opacity 0.4s ease, transform 0.4s ease;
  transform: scale(0.8) translateY(20px);
}
#lightbox.show img{opacity:1; transform: scale(1) translateY(0);}
#lightbox .nav{
  position:absolute;top:50%;transform:translateY(-50%);color:#fff;font-size:28px;cursor:pointer;
  padding:12px;background:rgba(0,0,0,.35);border-radius:8px;z-index:2;
  transition:all 0.25s ease;
}
#lightbox .nav:hover{transform:translateY(-50%) scale(1.2); background:rgba(255,255,255,0.15);}
#lightbox .prev{left:12px}
#lightbox .next{right:12px}

@media(max-width:700px){.slideshow{width:180px;height:180px}}
footer{padding:36px;color:var(--muted);text-align:center;}
</style>
</head>
<body>

<header>
  <div class="logo">Pierre Mordin</div>
  <nav>
    <a href="index.html">Accueil</a>
    <a href="portfolio.html">Portfolio</a>
    <a href="about.html">À propos</a>
    <a href="contact.html">Contact</a>
  </nav>
</header>

<div class="wrap">
  <h1>Portfolio — Sculptures</h1>
  <p class="lead">Découvrez une sélection de mes créations uniques, chaque pièce est présentée avec ses images regroupées pour une vision complète de son univers et de ses détails.</p>

  <div class="grid" id="portfolioGrid"></div>
</div>

<!-- Lightbox -->
<div id="lightbox" aria-hidden="true">
  <div class="inner">
    <div class="nav prev" id="lbPrev">◀</div>
    <img id="lbImg" src="" alt="">
    <div class="nav next" id="lbNext">▶</div>
  </div>
</div>

<script>
const galleryData = [
  {title: "Ragnar L.", files: ['c0009.jpg','c0045.jpg','c0043.jpg','c007.jpg','c0107.jpg','c0023.jpg','c0025.jpg','c004.jpg','c0031.jpg','c005.jpg','c006.jpg','c038.jpg']},
  {title: "Plantes Xénomorphes", files: ['3 (2).png','qq0056.jpg','IMG-20250419-WA0006.jpg']}
  // tu peux continuer la liste complète comme avant
];

const basePath = 'assets/i/';
const grid = document.getElementById('portfolioGrid');

const observer = new IntersectionObserver(entries=>{
  entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.add('visible'); });
},{threshold:0.2});

galleryData.forEach((group,gidx)=>{
  const card = document.createElement('div'); card.className='card';
  observer.observe(card);

  const slide = document.createElement('div'); slide.className='slideshow'; slide.dataset.group=gidx;
  const img=document.createElement('img'); img.alt=group.title; slide.appendChild(img);
  const cap=document.createElement('div'); cap.className='caption'; cap.innerHTML=`<strong>${group.title}</strong>`;
  card.appendChild(slide); card.appendChild(cap); grid.appendChild(card);

  slide._files = group.files.map(f=>encodeURI(basePath+f)); slide._i=0; img.src=slide._files[0];

  let interval=null;
  const start=()=>{interval=setInterval(()=>{slide._i=(slide._i+1)%slide._files.length; fadeImage(img,slide._files[slide._i]);},1200);}
  const stop=()=>{if(interval){clearInterval(interval);interval=null;}}
  start();
  slide.addEventListener('mouseenter',stop); slide.addEventListener('mouseleave',start);
  slide.addEventListener('click',()=>openLightbox(gidx,slide._i));
});

function fadeImage(img,src){
  img.style.opacity=0;
  setTimeout(()=>{ img.src=src; img.style.opacity=1; },200);
}

// Lightbox
const lightbox=document.getElementById('lightbox');
const lbImg=document.getElementById('lbImg');
const lbPrev=document.getElementById('lbPrev');
const lbNext=document.getElementById('lbNext');
let lbGroup=0, lbIndex=0;

function openLightbox(gidx, idx){
  lbGroup = gidx;
  lbIndex = idx || 0;
  lbImg.style.opacity = 0;
  lbImg.style.transform = 'scale(0.8) translateY(20px)';
  lbImg.src = encodeURI(basePath + galleryData[lbGroup].files[lbIndex]);
  lbImg.onload = ()=>{ lbImg.style.opacity = 1; lbImg.style.transform='scale(1) translateY(0)'; };
  lightbox.classList.add('show');
}

function closeLightbox(){
  lbImg.style.opacity = 0;
  lbImg.style.transform='scale(0.8) translateY(20px)';
  lightbox.style.opacity = 0;
  setTimeout(()=>{ lightbox.classList.remove('show'); lightbox.style.opacity=1; }, 400);
}

function prevLightbox(){ lbIndex=(lbIndex-1+galleryData[lbGroup].files.length)%galleryData[lbGroup].files.length; fadeLbImage(); }
function nextLightbox(){ lbIndex=(lbIndex+1)%galleryData[lbGroup].files.length; fadeLbImage(); }

function fadeLbImage(){
  lbImg.style.opacity=0;
  lbImg.style.transform='scale(0.9)';
  setTimeout(()=>{
    lbImg.src = encodeURI(basePath + galleryData[lbGroup].files[lbIndex]);
    lbImg.onload=()=>{ lbImg.style.opacity=1; lbImg.style.transform='scale(1)'; };
  },200);
}

function stopProp(fn){ return function(e){ e.stopPropagation(); fn(); }; }

lbPrev.addEventListener('click', stopProp(prevLightbox));
lbNext.addEventListener('click', stopProp(nextLightbox));

lightbox.addEventListener('click', closeLightbox);

document.addEventListener('keydown', e => {
  if(lightbox.classList.contains('show')){
    if(e.key==='ArrowLeft') prevLightbox();
    if(e.key==='ArrowRight') nextLightbox();
    if(e.key==='Escape') closeLightbox();
  }
});

document.addEventListener('contextmenu', e=>e.preventDefault());
document.addEventListener('dragstart', e=>{if(e.target.tagName==='IMG') e.preventDefault();});
</script>

<footer>
  © Sculpteur/modeleur • <a href="contact.html" style="color:inherit;text-decoration:underline">Contact</a>
</footer>
</body>
</html>
